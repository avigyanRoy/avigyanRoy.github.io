import React,{useState,useEffect} from "react";
import HamburgerList from "./hamburgerList";
import axios from "axios";
import { Link } from "react-router-dom";


function ApplicationHeader(){

    const [isOpen, setOpen]= useState(false);
    const [hamburgerColor, setColor]= useState("white");
    const [accountData, setAccountData]= useState([]);

    useEffect(() => {
        // Fetch the data from the backend when the component mounts
        axios
          .get("http://localhost:3001/home")
          .then((response) => {
            setAccountData(response.data);
          })
          .catch((error) => {
            console.log("Error while fetching data: ", error);
          });
      }, []);
    
    function handlehamClick(){
        setOpen(!isOpen);
        if(hamburgerColor==="white"){
            setColor("rgb(229,229,229)");
        }
        else{
            setColor("white");
        }
    }

    

    return(
        
        <div>
            <div className= "header-container">
        <button onClick={handlehamClick} className="HamburgerButton" style={{backgroundColor:hamburgerColor}}>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Hamburger_icon.svg/1200px-Hamburger_icon.svg.png" alt="icon" />
        </button>

        
        <Link to="/home" className="logo-link">
        <button className="title">
        <img className="stackoverflow-icon" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Stack_Overflow_icon.svg/2048px-Stack_Overflow_icon.svg.png" alt="" />
            StackOverflow
        </button>
        </Link>
        

        <button className="option-buttons">
            About
        </button>

        <button className="option-buttons">Products</button>
        <button className="option-buttons">For Teams</button>
        <input className="search-input-field" type="text" placeholder="Search Questions"/>
        <div className="user-name"></div>
        <Link to="/"><button className="logout-button">Log out</button></Link>
        </div>

    <div>
        {isOpen? <HamburgerList></HamburgerList>: <div></div>}
    </div>
        </div>
        
    
    );
}

export default ApplicationHeader;